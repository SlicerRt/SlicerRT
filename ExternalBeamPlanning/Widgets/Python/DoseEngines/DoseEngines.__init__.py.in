from .AbstractScriptedDoseEngine import *

# Add engine name to the list of scripted dose engines.
# ExternalBeamPlanning module will instantiate the engine class and register
# in the engine handler.
try:
  slicer.modules.doseEngineNames
except AttributeError:
  slicer.modules.doseEngineNames = []

import importlib
import traceback
engineNames = [
  "MockPythonDoseEngine",
  # "OrthovoltageDoseEngine",
  "pyRadPlanEngine"
  ]
print(f'Registering dose engines: {engineNames}')
for engineName in engineNames:
  try:
    importlib.import_module(f'DoseEngines.{engineName}')
    slicer.modules.doseEngineNames.extend([engineName])
  except Exception:
    print('ERROR: ' + traceback.format_exc())
