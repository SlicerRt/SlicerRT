from .AbstractScriptedPlanOptimizer import *

# Add plan optimizer name to the list of scripted optimizers.
# ExternalBeamPlanning module will instantiate the optimizer class and register
try:
  slicer.modules.planOptimizerNames
except AttributeError:
  slicer.modules.planOptimizerNames = []

import importlib
import traceback
planOptimizerNames = [
  "pyRadPlanPlanOptimizer"
  ]
print(f'Registering plan optimizers: {planOptimizerNames}')
for optimizerName in planOptimizerNames:
  try:
    importlib.import_module(f'PlanOptimizers.{optimizerName}')
    slicer.modules.planOptimizerNames.extend([optimizerName])
  except Exception:
    print('ERROR: ' + traceback.format_exc())
